{"version":3,"sources":["./src/app/send-funds/send-funds.page.html","./src/app/send-funds/send-funds.module.ts","./src/app/send-funds/send-funds.page.scss","./src/app/send-funds/send-funds.page.ts"],"names":[],"mappings":"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","file":"send-funds-send-funds-module-es5.js","sourcesContent":["module.exports = \"<ion-app>\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"primary\\\">\\n      Send\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"isCameraOpen==false\\\">\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-title>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon style=\\\" font-size:2.0rem;\\\" slot=\\\"start\\\" name=\\\"send\\\" class=\\\"icon-head\\\" ></ion-icon>\\n        </ion-item>\\n      </ion-card-title>\\n    </ion-card-header>\\n\\n    <ion-card-content>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Tokens</ion-label>\\n          <ion-select \\n              class=\\\"token-select\\\"\\n              name=\\\"token\\\"\\n              cancelText=\\\"Dismiss\\\"\\n              okText=\\\"Ok\\\"\\n              [(ngModel)]= \\\"data.tokenid\\\"\\n              placeholder=\\\"Select your token\\\">\\n            <ion-select-option  *ngFor=\\\"let token of tokenArr\\\" [value]=\\\"token.tokenid\\\">\\n              {{ token.token  + '->' + token.id  }} \\n            </ion-select-option>\\n        </ion-select>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Address</ion-label>\\n          <ion-input name=\\\"address\\\" [(ngModel)]=\\\"data.address\\\"></ion-input>\\n          \\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" slot=\\\"end\\\">\\n          <ion-button type=\\\"button\\\" class=\\\"util-btns\\\" size=\\\"small\\\" (click)=\\\"scanQR()\\\">\\n            <ion-label slot=\\\"start\\\" style=\\\"padding:2px\\\">SCAN QR</ion-label>\\n            <ion-icon  name=\\\"qr-scanner\\\" ></ion-icon>\\n          </ion-button>\\n          <ion-button type=\\\"button\\\" size=\\\"small\\\" class=\\\"util-btns\\\" (click)=\\\"pasteFromClipboard()\\\">\\n            <ion-label slot=\\\"start\\\" style=\\\"padding:5px\\\">CLIPBOARD</ion-label>\\n            <ion-icon name=\\\"clipboard\\\" ></ion-icon>\\n          </ion-button>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Amount</ion-label>\\n          <ion-input type=\\\"number\\\" name=\\\"amount\\\" [(ngModel)]=\\\"data.amount\\\"></ion-input>\\n        </ion-item>\\n    </ion-card-content>\\n    \\n  </ion-card>\\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-buttons> \\n      <ion-button class=\\\"action-btn\\\" expand=\\\"block\\\" (click)=\\\"stopCamera()\\\"  *ngIf=\\\"isCameraOpen==true\\\">\\n        Stop scanning\\n       </ion-button>\\n      <ion-button class=\\\"action-btn\\\" expand=\\\"block\\\" (click)=\\\"sendFunds()\\\" *ngIf=\\\"isCameraOpen==false\\\">\\n        <ion-icon name=\\\"send\\\" slot=\\\"start\\\"></ion-icon> Send\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-footer>\\n</ion-app>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SendFundsPage } from './send-funds.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SendFundsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SendFundsPage]\n})\nexport class SendFundsPageModule {}\n","module.exports = \"ion-card {\\n  border-radius: 15px;\\n}\\n\\nion-footer ion-toolbar ion-buttons ion-button {\\n  width: 100%;\\n}\\n\\n.icon-head {\\n  color: #1FB4CD;\\n}\\n\\n.util-btns {\\n  padding: 3px;\\n  text-align: center;\\n  margin: 2px;\\n}\\n\\n.action-btn {\\n  height: 40px;\\n}\\n\\n.action-btn:hover {\\n  height: 50px !important;\\n}\\n\\n.token-select {\\n  font-family: Aeonik;\\n  color: #1FB4CD;\\n  font-weight: bolder;\\n}\\n\\n.transparentBody {\\n  background: none transparent !important;\\n  --background: none transparent !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGlhcy9Qcm9qZWN0cy9taW5pbWFjb3JlL21vYmlsZS1hcHAtZnJvbnQtZW5kL2FwcC9zcmMvYXBwL3NlbmQtZnVuZHMvc2VuZC1mdW5kcy5wYWdlLnNjc3MiLCJzcmMvYXBwL3NlbmQtZnVuZHMvc2VuZC1mdW5kcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtBQ0NGOztBRENBO0VBQ0UsV0FBQTtBQ0VGOztBREFBO0VBQ0UsY0FBQTtBQ0dGOztBRERBO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0VBRUEsV0FBQTtBQ0dGOztBRERBO0VBQ0UsWUFBQTtBQ0lGOztBREZBO0VBQ0UsdUJBQUE7QUNLRjs7QURIQTtFQUNFLG1CQUFBO0VBQ0EsY0FBQTtFQUNBLG1CQUFBO0FDTUY7O0FESkE7RUFDQyx1Q0FBQTtFQUNBLHlDQUFBO0FDT0QiLCJmaWxlIjoic3JjL2FwcC9zZW5kLWZ1bmRzL3NlbmQtZnVuZHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQge1xuICBib3JkZXItcmFkaXVzOiAxNXB4O1xufVxuaW9uLWZvb3RlciBpb24tdG9vbGJhciBpb24tYnV0dG9ucyBpb24tYnV0dG9ue1xuICB3aWR0aDogMTAwJTtcbn1cbi5pY29uLWhlYWR7XG4gIGNvbG9yOiAjMUZCNENEO1xufVxuLnV0aWwtYnRucyB7XG4gIHBhZGRpbmc6IDNweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAvLyBwYWRkaW5nOiAxcHg7XG4gIG1hcmdpbjogMnB4O1xufVxuLmFjdGlvbi1idG4ge1xuICBoZWlnaHQ6IDQwcHg7XG59XG4uYWN0aW9uLWJ0bjpob3ZlciB7XG4gIGhlaWdodDogNTBweCAhaW1wb3J0YW50OyBcbn1cbi50b2tlbi1zZWxlY3Qge1xuICBmb250LWZhbWlseTogQWVvbmlrO1xuICBjb2xvcjogIzFGQjRDRDtcbiAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcbn1cbi50cmFuc3BhcmVudEJvZHkge1xuXHRiYWNrZ3JvdW5kOiBub25lIHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG5cdC0tYmFja2dyb3VuZDogbm9uZSB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xufSIsImlvbi1jYXJkIHtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbn1cblxuaW9uLWZvb3RlciBpb24tdG9vbGJhciBpb24tYnV0dG9ucyBpb24tYnV0dG9uIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5pY29uLWhlYWQge1xuICBjb2xvcjogIzFGQjRDRDtcbn1cblxuLnV0aWwtYnRucyB7XG4gIHBhZGRpbmc6IDNweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW46IDJweDtcbn1cblxuLmFjdGlvbi1idG4ge1xuICBoZWlnaHQ6IDQwcHg7XG59XG5cbi5hY3Rpb24tYnRuOmhvdmVyIHtcbiAgaGVpZ2h0OiA1MHB4ICFpbXBvcnRhbnQ7XG59XG5cbi50b2tlbi1zZWxlY3Qge1xuICBmb250LWZhbWlseTogQWVvbmlrO1xuICBjb2xvcjogIzFGQjRDRDtcbiAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcbn1cblxuLnRyYW5zcGFyZW50Qm9keSB7XG4gIGJhY2tncm91bmQ6IG5vbmUgdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgLS1iYWNrZ3JvdW5kOiBub25lIHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { BalanceService } from './../service/balance.service';\nimport { Component, OnInit, NgZone, NgModule} from '@angular/core';\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\nimport { AlertController, Platform } from '@ionic/angular';\nimport { MinimaApiService } from '../service/minima-api.service';\nimport { Tokens } from '../MinimaModels/tokens.model';\n\n@Component({\n  selector: 'app-send-funds',\n  templateUrl: './send-funds.page.html',\n  styleUrls: ['./send-funds.page.scss'],\n})\nexport class SendFundsPage implements OnInit {\n\n  public data: any = {};\n  isCameraOpen: boolean = false;\n  private scanSub:any=null;\n  ionApp = <HTMLElement>document.getElementsByTagName('ion-app')[0];\n\n  // Pull in tokens vars\n  public MINIMA_TOKEN_ID = '0x0000000000000000000000000000000000000000000000000000000000000000';\n  public hideProgress = false;\n  public progressShow = true;\n  public strUnconfirmed: any;\n  public tokenArr = [];\n\n  constructor(private qrScanner: QRScanner, private clipboard: Clipboard, \n    public alertController: AlertController, private zone: NgZone, \n    private api: MinimaApiService,\n    private balanceService: BalanceService,\n    private platform: Platform) { }\n\n  ngOnInit() {}\n\n  ionViewWillEnter() {\n    this.pullInTokens();\n    this.isCameraOpen = false;\n  }\n\n  ionViewWillLeave() {\n    this.stopCamera();\n  }\n\n  identifyPlatformToScan_Add(){\n    if(this.platform.is('ios')){\n      console.log('iOS Qr Code.')\n      setTimeout( () => {\n        window.document.querySelectorAll('ion-content')\n          .forEach(element => {\n            const element1 = element.shadowRoot.querySelector('style');\n            element1.innerHTML = element1.innerHTML\n          .replace('--background:var(--ion-background-color,#fff);', '--background: transparent');\n        });\n      }, 300);\n    } else if(this.platform.is('android')) {\n      // window.document.querySelector('ion-content').classList.add('transparentBody');\n      setTimeout( () => {\n      window.document.querySelectorAll('ion-content')\n          .forEach(element => {\n            const element1 = element.shadowRoot.querySelector('style');\n            element1.innerHTML = element1.innerHTML\n          .replace('--background:var(--ion-background-color,#fff);', '--background: transparent');\n        });\n      }, 300);\n    }\n  }\n  identifyPlatformToScan_Remove(){\n    if(this.platform.is('ios')){\n      console.log('iOS Qr Code.')\n      setTimeout( () => {\n        window.document.querySelectorAll('ion-content')\n          .forEach(element => {\n            const element1 = element.shadowRoot.querySelector('style');\n            element1.innerHTML = element1.innerHTML\n          .replace('--background: transparent', '--background:var(--ion-background-color,#fff);');\n        });\n      }, 300);\n    } else if(this.platform.is('android')) {\n      // window.document.querySelector('ion-content').classList.remove('transparentBody');\n      setTimeout( () => {\n        window.document.querySelectorAll('ion-content')\n          .forEach(element => {\n            const element1 = element.shadowRoot.querySelector('style');\n            element1.innerHTML = element1.innerHTML\n          .replace('--background: transparent', '--background:var(--ion-background-color,#fff);');\n        });\n      }, 300);\n    }\n  }\n\n\n  scanQR() {\n    this.qrScanner.prepare()\n      .then((status: QRScannerStatus) => {\n        if (status.authorized) {\n          // camera permission was granted\n          console.log('scanQR', status);\n\n          // Which class adding should I use?\n          this.identifyPlatformToScan_Add();\n\n          this.qrScanner.show();\n          this.isCameraOpen = true;\n\n          this.scanSub = this.qrScanner.scan().subscribe((text: string) => {\n            console.log('Scanned something', text);\n            this.zone.run(()=>{\n              console.log('Scanned something', text);\n              this.data.address = text;\n              this.stopCamera();\n\n              this.identifyPlatformToScan_Remove();\n\n              this.isCameraOpen = false;\n              })\n\n          }, (err) => {\n            console.log('Scanned failed', err);\n          })\n\n        } else if (status.denied) {\n          // camera permission was permanently denied\n          // you must use QRScanner.openSettings() method to guide the user to the settings page\n          // then they can grant the permission from there\n          console.log('error permission needed');\n          this.presentAlert('Please check camera permission','Error');\n        } else {\n          // permission was denied, but not permanently. You can ask for permission again at a later time.\n          console.log('error permission needed');\n          this.presentAlert('Please check camera permission','Error');\n        }\n      })\n      .catch((e: any) => console.log('Error is', e));\n  }\n\n  stopCamera() {\n    console.log('stop camera',this.scanSub);\n    if(this.scanSub!==null){\n      console.log(\"stopCamera - is not null..\")\n      this.qrScanner.hide();\n      this.scanSub.unsubscribe();\n    }\n    this.scanSub = null;\n    this.identifyPlatformToScan_Remove();\n    //this.ionApp.style.display = 'block';\n    this.isCameraOpen = false;\n    this.qrScanner.destroy();\n  }\n\n  pasteFromClipboard() {\n    this.clipboard.paste().then(\n      (resolve: string) => {\n        this.data.address = resolve;\n      },\n      (reject: string) => {\n        console.log('Error: ' + reject);\n      }\n    );\n  }\n\n  async presentAlert(msg:string,header:string) {\n    const alert = await this.alertController.create({\n      header: header,\n      message: msg,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  pullInTokens() {\n    this.balanceService.getBalance().then((res : any) => {\n      this.tokenArr = res;\n      return this.tokenArr;\n      \n    });\n  }\n\n  sendFunds(){\n    if(this.data.address&&this.data.address!==''&&this.data.amount&&this.data.amount>0&&\n    this.data.tokenid&&this.data.tokenid!==''){\n      console.log('sendFunds',this.data);\n      this.api.sendFunds(this.data).then((res:any)=>{\n        console.log(\"Send \" + JSON.stringify(res));\n        if(res.status == true) {\n          this.presentAlert('Sent successfully!', 'Info');\n        } else {\n          this.presentAlert(res.error, 'Error');\n        }\n      })\n    } else {\n      this.presentAlert('Please check the input fields', 'Error');\n    }\n  }\n\n}\n"],"sourceRoot":""}