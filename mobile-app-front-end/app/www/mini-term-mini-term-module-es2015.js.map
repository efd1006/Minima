{"version":3,"sources":["./src/app/mini-term/mini-term.page.html","./src/app/mini-term/mini-term.module.ts","./src/app/mini-term/mini-term.page.scss","./src/app/mini-term/mini-term.page.ts"],"names":[],"mappings":"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","file":"mini-term-mini-term-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"primary\\\">\\n      Mini Terminal\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content #content>\\n<ion-grid *ngFor=\\\"let theExecute of theExecuted\\\" >\\n    <ion-row>\\n      <ion-col>\\n        <ion-item>\\n            <ion-label\\n            color=\\\"primary\\\"\\n            style=\\\"background-color: cornsilk;\\\"\\n            class=\\\"ion-text-wrap\\\">\\n              <pre>{{theExecute}}</pre> \\n            </ion-label>\\n          </ion-item> \\n      </ion-col> \\n    </ion-row>\\n</ion-grid>\\n</ion-content>\\n\\n<ion-footer>\\n<ion-toolbar>\\n  <ion-row>\\n      <ion-col>\\n        <ion-input\\n        style=\\\"background-color: #E0E0E0\\\"\\n        type=\\\"text\\\"\\n        autocapitalize=\\\"none\\\"\\n        autocorrect=\\\"off\\\"\\n        placeholder=\\\"$command line\\\"\\n        [(ngModel)]=\\\"toExecute\\\"\\n        (keyup.enter) = \\\"getCall()\\\">\\n      </ion-input>\\n    </ion-col>\\n      <button ion-button small full item-end clear \\n        (click)=\\\"getCall()\\\" \\n        [disabled] = \\\"!toExecute\\\">Execute</button>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-footer>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MiniTermPage } from './mini-term.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MiniTermPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MiniTermPage]\n})\nexport class MiniTermPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21pbmktdGVybS9taW5pLXRlcm0ucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport {} from 'src/assets/data/terminal.js';\nimport { Terminal } from 'xterm';\nimport { HttpClient, HttpEvent, HttpErrorResponse, HttpEventType } from '@angular/common/http';\nimport { LoadingController } from '@ionic/angular';\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-mini-term',\n  templateUrl: './mini-term.page.html',\n  styleUrls: ['mini-term.page.scss']\n})\n\nexport class MiniTermPage implements OnInit {\n  @ViewChild('content', {static : false}) private content: any;\n\n  private term: Terminal;\n  toExecute = '';\n  theExecuted = [];\n  isEnabled: boolean;\n  private host = '';\n  private loader: any = null;\n\n  constructor(private http: HttpClient, public loadingController: LoadingController) {\n    this.host = environment.defaultNode;\n    this.host = this.getHost();\n  }\n\n  buttonHandler() {\n    if(this.toExecute == '') {\n    } else {\n      this.isEnabled = true;\n    }\n  }\n\n  ngOnInit(){}\n\n  scrollToBottomOnInit() {\n    this.content.scrollToBottom(50);\n  }\n\n  getHost() {\n    if (localStorage.getItem('minima_host') == null) {\n      localStorage.setItem('minima_host', this.host);\n      return this.host;\n    } else {\n      return localStorage.getItem('minima_host');\n    }\n  }\n\n getCall() {\n    return this.request(this.toExecute);\n  }\n\n  async showLoader() {\n    if (this.loader == null) {\n      this.loader = await this.loadingController.create({\n        message: 'Loading'\n      });\n      this.loader.present();\n    }\n  }\n\n  async hideLoader() {\n    if (this.loader !== null) {\n      await this.loader.dismiss();\n      this.loader = null;\n    } else {}\n  }\n\n  private request(route) {\n    const self = this;\n    setTimeout( () => {self.showLoader() }, 0);\n    console.log(route);\n    return new Promise((resolve, reject) => {///+\"&t=\"+Math.random()\n      self.http.get(self.host + route, { responseType: 'json' }).subscribe((d: any) => {\n        setTimeout( () => { self.hideLoader(); }, 500);\n        console.log(d);\n        \n        const objpretty = JSON.stringify(d, undefined, 1);\n        this.theExecuted.push('$' + objpretty);\n        this.scrollToBottomOnInit();\n        resolve(d);\n      }, (err) => {\n        self.hideLoader();\n        console.log('Error ' + err );\n        reject(err);\n      });\n    });\n  }\n\n\n\n  syntaxHighlight(json) {\n    if (typeof json !== 'string') {\n         json = JSON.stringify(json, undefined, 2);\n    }\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, \n    (match) => {\n        let cls = 'number';\n        if (/^\"/.test(match)) {\n            if (/:$/.test(match)) {\n                cls = 'key';\n            } else {\n                cls = 'string';\n            }\n        } else if (/true|false/.test(match)) {\n            cls = 'boolean';\n        } else if (/null/.test(match)) {\n            cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n    });\n  }\n\n}\n"],"sourceRoot":""}