{"version":3,"sources":["./src/app/mini-status/mini-status.page.html","./src/app/mini-status/mini-status.module.ts","./src/app/mini-status/mini-status.page.scss","./src/app/mini-status/mini-status.page.ts"],"names":[],"mappings":"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","file":"mini-status-mini-status-module-es2015.js","sourcesContent":["module.exports = \"<ion-app>\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"primary\\\">\\n      Status\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n\\n<ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n            <ion-refresher-content></ion-refresher-content>\\n</ion-refresher>\\n\\n\\n    <ion-toolbar>\\n      <ion-title class=\\\"ion-text-centre\\\" color=\\\"tertiary\\\">\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon slot=\\\"start\\\" src=\\\"../../assets/icon/minima.svg\\\" size=\\\"2\\\"></ion-icon>\\n            Minima \\n          <ion-badge class=\\\"sup\\\" color=\\\"secondary\\\"> v{{ versionNumber }}</ion-badge>\\n            \\n         \\n        </ion-item>\\n      </ion-title>\\n    </ion-toolbar>\\n      \\n\\n    \\n        <ion-list>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Status</h2>\\n            <p color=\\\"getColor()\\\">{{ status }}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Node uptime</h2>\\n            <p>{{ stringUptime }}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Configuration path</h2>\\n            <p>{{ conf }}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Hosting IP</h2>\\n            <p>{{ miniHost }}{{ miniPort}}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>RPC Port</h2>\\n            <p>{{ miniRpcport }}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item lines=\\\"none\\\">\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Last block number</h2>\\n            <p>{{ block }}</p>\\n            </ion-label>\\n          </ion-item>\\n        </ion-list>\\n  \\n        \\n  \\n        \\n  \\n\\n\\n\\n</ion-content>\\n\\n<ion-footer>\\n     <ion-list lines=\\\"none\\\">\\n       <ion-item>\\n       <ion-icon slot=\\\"start\\\" name=\\\"notifications\\\"></ion-icon>\\n       \\n       <p>Call \\\"status\\\" in \\n         <a style=\\\"font-style: normal;\\\" routerLink=\\\"/mini-term\\\">terminal</a> for more details of the node's status.</p> \\n      </ion-item>\\n     </ion-list>\\n</ion-footer>\\n</ion-app>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MiniStatusPage } from './mini-status.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MiniStatusPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MiniStatusPage]\n})\nexport class MiniStatusPageModule {}\n","module.exports = \"#status-content {\\n  width: 100%;\\n  padding: 5px;\\n  border-radius: 20%;\\n  font-size: 0.5em;\\n}\\n\\n#status-content ion-icon {\\n  padding-left: 1em;\\n  color: #FF671D;\\n}\\n\\n#status-content ion-list ion-grid ion-col ion-item {\\n  font-size: 1.5em;\\n}\\n\\n.ion-text-wrap {\\n  word-wrap: normal;\\n}\\n\\nion-list ion-item h2 {\\n  color: #06AAC7;\\n}\\n\\nion-list ion-item p {\\n  white-space: normal;\\n}\\n\\nion-list ion-icon {\\n  padding-right: 4px;\\n}\\n\\nion-icon {\\n  color: #06AAC7;\\n}\\n\\nion-chip {\\n  background-color: transparent;\\n}\\n\\nion-footer ion-list ion-item {\\n  border-top: 2px solid #ffffcc;\\n  border-bottom: 2px solid #ffffcc;\\n  border-radius: 5px;\\n}\\n\\n.sup {\\n  position: relative;\\n  font-family: \\\"Aeonik-Light\\\";\\n  bottom: 1ex;\\n  font-size: 80%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGlhcy9Qcm9qZWN0cy9taW5pbWFjb3JlL21vYmlsZS1hcHAtZnJvbnQtZW5kL2FwcC9zcmMvYXBwL21pbmktc3RhdHVzL21pbmktc3RhdHVzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbWluaS1zdGF0dXMvbWluaS1zdGF0dXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDREo7O0FESUE7RUFDSSxpQkFBQTtFQUNBLGNBQUE7QUNESjs7QURJQTtFQUNJLGdCQUFBO0FDREo7O0FESUE7RUFDSSxpQkFBQTtBQ0RKOztBRE1BO0VBQ0ksY0FBQTtBQ0hKOztBRE1BO0VBQ0ksbUJBQUE7QUNISjs7QURNQztFQUNHLGtCQUFBO0FDSEo7O0FET0E7RUFDSSxjQUFBO0FDSko7O0FET0E7RUFDSSw2QkFBQTtBQ0pKOztBRE9BO0VBQ0ksNkJBQUE7RUFDQSxnQ0FBQTtFQUNBLGtCQUFBO0FDSko7O0FET0E7RUFDSSxrQkFBQTtFQUNBLDJCQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7QUNKSiIsImZpbGUiOiJzcmMvYXBwL21pbmktc3RhdHVzL21pbmktc3RhdHVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG4jc3RhdHVzLWNvbnRlbnQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBib3JkZXItcmFkaXVzOiAyMCU7XG4gICAgZm9udC1zaXplOiAwLjVlbTtcbn1cblxuI3N0YXR1cy1jb250ZW50IGlvbi1pY29uIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDFlbTtcbiAgICBjb2xvcjogI0ZGNjcxRDtcbn1cblxuI3N0YXR1cy1jb250ZW50IGlvbi1saXN0IGlvbi1ncmlkIGlvbi1jb2wgaW9uLWl0ZW0ge1xuICAgIGZvbnQtc2l6ZTogMS41ZW07XG59XG5cbi5pb24tdGV4dC13cmFwIHtcbiAgICB3b3JkLXdyYXA6IG5vcm1hbDtcbn1cblxuXG5cbmlvbi1saXN0IGlvbi1pdGVtIGgyIHtcbiAgICBjb2xvcjogIzA2QUFDNztcbn1cblxuaW9uLWxpc3QgaW9uLWl0ZW0gcCB7XG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbn1cblxuIGlvbi1saXN0IGlvbi1pY29uIHtcbiAgICBwYWRkaW5nLXJpZ2h0OiA0cHg7XG59XG5cblxuaW9uLWljb24ge1xuICAgIGNvbG9yOiAjMDZBQUM3O1xufVxuXG5pb24tY2hpcCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbmlvbi1mb290ZXIgaW9uLWxpc3QgaW9uLWl0ZW0ge1xuICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCAjZmZmZmNjO1xuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCNmZmZmY2M7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4uc3VwIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZm9udC1mYW1pbHk6IFwiQWVvbmlrLUxpZ2h0XCI7XG4gICAgYm90dG9tOiAxZXg7IFxuICAgIGZvbnQtc2l6ZTogODAlO1xuICB9IiwiI3N0YXR1cy1jb250ZW50IHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogMjAlO1xuICBmb250LXNpemU6IDAuNWVtO1xufVxuXG4jc3RhdHVzLWNvbnRlbnQgaW9uLWljb24ge1xuICBwYWRkaW5nLWxlZnQ6IDFlbTtcbiAgY29sb3I6ICNGRjY3MUQ7XG59XG5cbiNzdGF0dXMtY29udGVudCBpb24tbGlzdCBpb24tZ3JpZCBpb24tY29sIGlvbi1pdGVtIHtcbiAgZm9udC1zaXplOiAxLjVlbTtcbn1cblxuLmlvbi10ZXh0LXdyYXAge1xuICB3b3JkLXdyYXA6IG5vcm1hbDtcbn1cblxuaW9uLWxpc3QgaW9uLWl0ZW0gaDIge1xuICBjb2xvcjogIzA2QUFDNztcbn1cblxuaW9uLWxpc3QgaW9uLWl0ZW0gcCB7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XG59XG5cbmlvbi1saXN0IGlvbi1pY29uIHtcbiAgcGFkZGluZy1yaWdodDogNHB4O1xufVxuXG5pb24taWNvbiB7XG4gIGNvbG9yOiAjMDZBQUM3O1xufVxuXG5pb24tY2hpcCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG5pb24tZm9vdGVyIGlvbi1saXN0IGlvbi1pdGVtIHtcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICNmZmZmY2M7XG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjZmZmZmNjO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbi5zdXAge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGZvbnQtZmFtaWx5OiBcIkFlb25pay1MaWdodFwiO1xuICBib3R0b206IDFleDtcbiAgZm9udC1zaXplOiA4MCU7XG59Il19 */\"","import { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport * as HighCharts from 'highcharts';\nimport { MinimaApiService } from '../service/minima-api.service';\nimport { Url } from 'url';\n\n@Component({\n  selector: 'app-mini-status',\n  templateUrl: './mini-status.page.html',\n  styleUrls: ['./mini-status.page.scss'],\n})\n\nexport class MiniStatusPage implements OnInit {\n\n  // @ViewChild('statusColor', {static : false}) statusRef : ElementRef;\n\n  data: any;\n  blocksGenerated : number;\n  versionNumber : number;\n  timeElapsed: number;\n  upTime : string;\n  stringUptime : string;\n  status: string;\n  conf: string;\n  miniHost: string;\n  miniPort: number;\n  miniRpcport: number;\n  pulse: string;\n  block: number;\n  private host = '';\n  private loader: any = null;\n\n  constructor(private api: MinimaApiService) { }\n\n  ngOnInit() { }\n\n  ionViewWillEnter() {\n    this.updateStatus();\n  }\n\n  ionViewDidEnter() {\n    // this.plotSimpleBarChart();\n  }\n\n  doRefresh(event) {\n    console.log('Refreshing page..');\n    this.api.getStatus().then((res: any) => {\n      console.log(res);\n      this.updateStatus();\n    });\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.target.complete();\n    }, 200);\n  }\n\n  updateStatus() {\n    this.api.getStatus().then((res : any) => {\n\n      console.log(res.response.tip.Block);\n      // Check node's status..\n      if(res.status === true){\n        this.status = \"Online\";\n        \n      } else {\n        this.status = \"Offline\";\n      }\n      // fetch json vars..\n      this.versionNumber = res.response.version;\n      this.blocksGenerated = res.response.tip.Block;\n      this.upTime = res.response.milliuptime;\n      this.stringUptime = res.response.stringuptime;\n      this.conf = res.response.conf;\n      this.miniHost = res.response.host + \":\";\n      this.miniPort = res.response.port;\n      this.miniRpcport = res.response.rpcport;\n      this.pulse = res.response.pulse;\n      this.block = res.response.tip.block;\n      \n    \n    });\n  }\n\n  getColor() {\n    if(this.status == \"Online\") {\n      return 'green';\n    } else {\n      return 'red';\n    }\n  }\n  \n\n  \n}\n"],"sourceRoot":""}