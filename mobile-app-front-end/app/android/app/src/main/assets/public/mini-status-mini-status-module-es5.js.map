{"version":3,"sources":["./src/app/mini-status/mini-status.page.html","./src/app/mini-status/mini-status.module.ts","./src/app/mini-status/mini-status.page.scss","./src/app/mini-status/mini-status.page.ts"],"names":[],"mappings":"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","file":"mini-status-mini-status-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"primary\\\">\\n      Status\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n\\n<ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n</ion-refresher>\\n\\n\\n  <ion-card class=\\\"welcome-card\\\" style=\\\"background-color:transparent\\\">\\n    <ion-card-header id=\\\"status-header\\\">\\n      <ion-card-title>\\n        <ion-item>\\n          <ion-icon slot=\\\"start\\\" src=\\\"../../assets/icon/minima.svg\\\" size=\\\"2\\\"></ion-icon>\\n          <ion-card-title class=\\\"ion-text-centre\\\">  Minima  v{{ versionNumber }}</ion-card-title>\\n        </ion-item>\\n      </ion-card-title>\\n    </ion-card-header>\\n\\n    <ion-card-content id=\\\"status-content\\\">\\n      <ion-list lines=\\\"none\\\">\\n        <ion-grid class=\\\"ion-no-padding\\\">\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-item>\\n                <ion-icon name=\\\"checkmark\\\" size=\\\"2\\\"></ion-icon>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item>\\n                \\n                  <ion-text>\\n                    Your node's status\\n                  </ion-text>\\n                \\n              </ion-item>\\n\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              \\n              <ion-item \\n              [ngStyle] = \\\" {'color': getColor()}\\\"\\n               #statusColor>\\n                {{status}}\\n              </ion-item>\\n            \\n            </ion-col>\\n          </ion-row>\\n          <!-- New Row -->\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-item>\\n                <ion-icon name=\\\"checkmark\\\" size=\\\"2\\\"></ion-icon>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item>\\n                Node uptime\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <ion-item>\\n                {{stringUptime}}\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n          <!-- New Row -->\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-item>\\n                <ion-icon name=\\\"checkmark\\\" size=\\\"2\\\"></ion-icon>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item>\\n                Configured at\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <ion-item>\\n                {{ conf }}\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n          <!-- New Row -->\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-item>\\n                <ion-icon name=\\\"checkmark\\\" size=\\\"2\\\"></ion-icon>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item>\\n                Hosting at\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <ion-item>\\n                {{ miniHost}}{{miniPort}}\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n          <!-- New Row -->\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-item>\\n                <ion-icon name=\\\"checkmark\\\" size=\\\"2\\\"></ion-icon>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item>\\n                RpcPort\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <ion-item>\\n                {{ miniRpcport }}\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n          <!-- New Row -->\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-item>\\n                <ion-icon name=\\\"checkmark\\\" size=\\\"2\\\"></ion-icon>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item>\\n                Pulse\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <ion-item>\\n                {{ pulse }}\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n          <!-- New Row -->\\n          <ion-row>\\n            <ion-col size=\\\"2\\\">\\n              <ion-item>\\n                <ion-icon name=\\\"checkmark\\\" size=\\\"2\\\"></ion-icon>\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"6\\\">\\n              <ion-item>\\n                Current block number\\n              </ion-item>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <ion-item>\\n                {{ block }}\\n              </ion-item>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-list>\\n      \\n      <!-- <div id=\\\"highcharts\\\" style=\\\"width:100%; height:250px;\\\"></div> -->\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card>\\n    <ion-card-header class=\\\"align-items-center\\\"> \\n      <ion-item>\\n        <ion-icon name=\\\"notifications\\\" style=\\\"color:#FF671D;\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-card-title class=\\\"ion-text-centre\\\">Reminder...</ion-card-title>\\n      </ion-item>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-label style=\\\"margin-top:5px;\\\">\\n        If you would like a more detailed status of the node (block details, chainspeed..)\\n          call \\\"status\\\" in terminal!\\n        </ion-label>\\n    </ion-card-content>\\n  </ion-card>\\n\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MiniStatusPage } from './mini-status.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MiniStatusPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MiniStatusPage]\n})\nexport class MiniStatusPageModule {}\n","module.exports = \"#status-content {\\n  width: 100%;\\n  padding: 5px;\\n  border-radius: 20%;\\n  font-size: 0.5em;\\n}\\n\\n#status-content ion-icon {\\n  padding-left: 1em;\\n  color: #FF671D;\\n}\\n\\n#status-content ion-list ion-grid ion-col ion-item {\\n  font-size: 1.5em;\\n}\\n\\n.ion-text-wrap {\\n  word-wrap: normal;\\n}\\n\\nion-card {\\n  border-radius: 30px;\\n  background-color: #FFFFFF;\\n  border-top: 3px solid #06AAC7;\\n  border-bottom: 3px solid #06AAC7;\\n}\\n\\nion-grid {\\n  border: 1px solid #FF671D;\\n  border-radius: 5px;\\n}\\n\\nion-label {\\n  font-style: oblique;\\n}\\n\\nion-col {\\n  border-bottom: 1px solid #06AAC7;\\n  border-left: 1px solid #06AAC7;\\n}\\n\\nion-icon {\\n  color: #06AAC7;\\n}\\n\\nion-chip {\\n  background-color: transparent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGlhcy9Qcm9qZWN0cy9taW5pbWFjb3JlL21vYmlsZS1hcHAtZnJvbnQtZW5kL2FwcC9zcmMvYXBwL21pbmktc3RhdHVzL21pbmktc3RhdHVzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbWluaS1zdGF0dXMvbWluaS1zdGF0dXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDREo7O0FESUE7RUFDSSxpQkFBQTtFQUNBLGNBQUE7QUNESjs7QURJQTtFQUNJLGdCQUFBO0FDREo7O0FESUE7RUFDSSxpQkFBQTtBQ0RKOztBRElBO0VBQ0ksbUJBQUE7RUFDQSx5QkFBQTtFQUNBLDZCQUFBO0VBQ0EsZ0NBQUE7QUNESjs7QURJQTtFQUNJLHlCQUFBO0VBQ0Esa0JBQUE7QUNESjs7QURJQTtFQUNJLG1CQUFBO0FDREo7O0FESUE7RUFDSSxnQ0FBQTtFQUNBLDhCQUFBO0FDREo7O0FESUE7RUFDSSxjQUFBO0FDREo7O0FESUE7RUFDSSw2QkFBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvbWluaS1zdGF0dXMvbWluaS1zdGF0dXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbiNzdGF0dXMtY29udGVudCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDIwJTtcbiAgICBmb250LXNpemU6IDAuNWVtO1xufVxuXG4jc3RhdHVzLWNvbnRlbnQgaW9uLWljb24ge1xuICAgIHBhZGRpbmctbGVmdDogMWVtO1xuICAgIGNvbG9yOiAjRkY2NzFEO1xufVxuXG4jc3RhdHVzLWNvbnRlbnQgaW9uLWxpc3QgaW9uLWdyaWQgaW9uLWNvbCBpb24taXRlbSB7XG4gICAgZm9udC1zaXplOiAxLjVlbTtcbn1cblxuLmlvbi10ZXh0LXdyYXAge1xuICAgIHdvcmQtd3JhcDogbm9ybWFsO1xufVxuXG5pb24tY2FyZCB7XG4gICAgYm9yZGVyLXJhZGl1czogMzBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xuICAgIGJvcmRlci10b3A6IDNweCBzb2xpZCAjMDZBQUM3O1xuICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjMDZBQUM3O1xufVxuXG5pb24tZ3JpZCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI0ZGNjcxRDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbmlvbi1sYWJlbCB7XG4gICAgZm9udC1zdHlsZTogb2JsaXF1ZTtcbn1cblxuaW9uLWNvbCB7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMwNkFBQzc7XG4gICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjMDZBQUM3O1xufVxuXG5pb24taWNvbiB7XG4gICAgY29sb3I6ICMwNkFBQzc7XG59XG5cbmlvbi1jaGlwIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn0iLCIjc3RhdHVzLWNvbnRlbnQge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogNXB4O1xuICBib3JkZXItcmFkaXVzOiAyMCU7XG4gIGZvbnQtc2l6ZTogMC41ZW07XG59XG5cbiNzdGF0dXMtY29udGVudCBpb24taWNvbiB7XG4gIHBhZGRpbmctbGVmdDogMWVtO1xuICBjb2xvcjogI0ZGNjcxRDtcbn1cblxuI3N0YXR1cy1jb250ZW50IGlvbi1saXN0IGlvbi1ncmlkIGlvbi1jb2wgaW9uLWl0ZW0ge1xuICBmb250LXNpemU6IDEuNWVtO1xufVxuXG4uaW9uLXRleHQtd3JhcCB7XG4gIHdvcmQtd3JhcDogbm9ybWFsO1xufVxuXG5pb24tY2FyZCB7XG4gIGJvcmRlci1yYWRpdXM6IDMwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG4gIGJvcmRlci10b3A6IDNweCBzb2xpZCAjMDZBQUM3O1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzA2QUFDNztcbn1cblxuaW9uLWdyaWQge1xuICBib3JkZXI6IDFweCBzb2xpZCAjRkY2NzFEO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5cbmlvbi1sYWJlbCB7XG4gIGZvbnQtc3R5bGU6IG9ibGlxdWU7XG59XG5cbmlvbi1jb2wge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzA2QUFDNztcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjMDZBQUM3O1xufVxuXG5pb24taWNvbiB7XG4gIGNvbG9yOiAjMDZBQUM3O1xufVxuXG5pb24tY2hpcCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport * as HighCharts from 'highcharts';\nimport { MinimaApiService } from '../service/minima-api.service';\nimport { Url } from 'url';\n\n@Component({\n  selector: 'app-mini-status',\n  templateUrl: './mini-status.page.html',\n  styleUrls: ['./mini-status.page.scss'],\n})\n\nexport class MiniStatusPage implements OnInit {\n\n  // @ViewChild('statusColor', {static : false}) statusRef : ElementRef;\n\n  data: any;\n  blocksGenerated : number;\n  versionNumber : number;\n  timeElapsed: number;\n  upTime : string;\n  stringUptime : string;\n  status: string;\n  conf: string;\n  miniHost: string;\n  miniPort: number;\n  miniRpcport: number;\n  pulse: string;\n  block: number;\n  private host = '';\n  private loader: any = null;\n\n  constructor(private api: MinimaApiService) { }\n\n  ngOnInit() { }\n\n  ionViewWillEnter() {\n    this.updateStatus();\n  }\n\n  ionViewDidEnter() {\n    // this.plotSimpleBarChart();\n  }\n\n  doRefresh(event) {\n    console.log('Refreshing page..');\n    this.api.getStatus().then((res: any) => {\n      console.log(res);\n      this.updateStatus();\n    });\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.target.complete();\n    }, 1500);\n  }\n\n  updateStatus() {\n    this.api.getStatus().then((res : any) => {\n\n      console.log(res.response.tip.Block);\n      // Check node's status..\n      if(res.status === true){\n        this.status = \"Online\";\n        \n      } else {\n        this.status = \"Offline\";\n      }\n      // fetch json vars..\n      this.versionNumber = res.response.version;\n      this.blocksGenerated = res.response.tip.Block;\n      this.upTime = res.response.milliuptime;\n      this.stringUptime = res.response.stringuptime;\n      this.conf = res.response.conf;\n      this.miniHost = res.response.host + \":\";\n      this.miniPort = res.response.port;\n      this.miniRpcport = res.response.rpcport;\n      this.pulse = res.response.pulse;\n      this.block = res.response.tip.block;\n      \n    \n    });\n  }\n\n  getColor() {\n    if(this.status == \"Online\") {\n      return 'green';\n    } else {\n      return 'red';\n    }\n  }\n  \n\n  \n}\n"],"sourceRoot":""}