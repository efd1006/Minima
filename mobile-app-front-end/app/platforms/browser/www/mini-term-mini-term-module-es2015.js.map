{"version":3,"sources":["./src/app/mini-term/mini-term.page.html","./src/app/mini-term/mini-term.module.ts","./src/app/mini-term/mini-term.page.scss","./src/app/mini-term/mini-term.page.ts"],"names":[],"mappings":"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","file":"mini-term-mini-term-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"primary\\\">\\n      Terminal\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content #ionContent>\\n  \\n  <!-- Terminal -->\\n  <textarea\\n  #terminal\\n  class=\\\"terminal\\\" \\n  autocapitalize=\\\"false\\\"\\n  spellcheck=\\\"false\\\"\\n  autocorrect=\\\"off\\\"></textarea>\\n</ion-content>\\n\\n<!-- <div class=\\\"terminal\\\">\\n  <div id=\\\"history\\\">\\n    \\n  </div>\\n  <div class=\\\"line\\\">\\n    <span id=\\\"path\\\">c:/&nbsp;>&nbsp;</span>\\n    <input type=\\\"text\\\" id=\\\"input\\\">\\n  </div>\\n</div> -->\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MiniTermPage } from './mini-term.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MiniTermPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MiniTermPage]\n})\nexport class MiniTermPageModule {}\n","module.exports = \".terminal {\\n  font-size: 10px;\\n  min-height: 100%;\\n  width: 100%;\\n  background-color: black;\\n  color: #ffeed2;\\n  padding: 5px;\\n  font-family: monospace;\\n}\\n\\ntextarea:hover,\\ninput:hover,\\ntextarea:active,\\ninput:active,\\ntextarea:focus,\\ninput:focus,\\nbutton:focus,\\nbutton:active,\\nbutton:hover,\\nlabel:focus,\\n.btn:active,\\n.btn.active {\\n  outline: 0px !important;\\n  -webkit-appearance: none;\\n  box-shadow: none !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGlhcy9Qcm9qZWN0cy9taW5pbWFjb3JlL21vYmlsZS1hcHAtZnJvbnQtZW5kL2FwcC9zcmMvYXBwL21pbmktdGVybS9taW5pLXRlcm0ucGFnZS5zY3NzIiwic3JjL2FwcC9taW5pLXRlcm0vbWluaS10ZXJtLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7QUNESjs7QURLQTs7Ozs7Ozs7Ozs7O0VBYUksdUJBQUE7RUFDQSx3QkFBQTtFQUNBLDJCQUFBO0FDSEoiLCJmaWxlIjoic3JjL2FwcC9taW5pLXRlcm0vbWluaS10ZXJtLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG4udGVybWluYWwge1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICBtaW4taGVpZ2h0OiAxMDAlOztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgICBjb2xvcjogI2ZmZWVkMjtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcbn1cblxuXG50ZXh0YXJlYTpob3ZlciwgXG5pbnB1dDpob3ZlciwgXG50ZXh0YXJlYTphY3RpdmUsIFxuaW5wdXQ6YWN0aXZlLCBcbnRleHRhcmVhOmZvY3VzLCBcbmlucHV0OmZvY3VzLFxuYnV0dG9uOmZvY3VzLFxuYnV0dG9uOmFjdGl2ZSxcbmJ1dHRvbjpob3ZlcixcbmxhYmVsOmZvY3VzLFxuLmJ0bjphY3RpdmUsXG4uYnRuLmFjdGl2ZVxue1xuICAgIG91dGxpbmU6MHB4ICFpbXBvcnRhbnQ7XG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7XG4gICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xufSIsIi50ZXJtaW5hbCB7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgbWluLWhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xuICBjb2xvcjogI2ZmZWVkMjtcbiAgcGFkZGluZzogNXB4O1xuICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xufVxuXG50ZXh0YXJlYTpob3ZlcixcbmlucHV0OmhvdmVyLFxudGV4dGFyZWE6YWN0aXZlLFxuaW5wdXQ6YWN0aXZlLFxudGV4dGFyZWE6Zm9jdXMsXG5pbnB1dDpmb2N1cyxcbmJ1dHRvbjpmb2N1cyxcbmJ1dHRvbjphY3RpdmUsXG5idXR0b246aG92ZXIsXG5sYWJlbDpmb2N1cyxcbi5idG46YWN0aXZlLFxuLmJ0bi5hY3RpdmUge1xuICBvdXRsaW5lOiAwcHggIWltcG9ydGFudDtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, ViewChild, ElementRef, Renderer2} from '@angular/core';\nimport { HttpClient, HttpEvent, HttpErrorResponse, HttpEventType } from '@angular/common/http';\nimport { LoadingController, NavController, IonContent } from '@ionic/angular';\nimport { environment } from '../../environments/environment';\nimport { MinimaApiService } from '../service/minima-api.service';\n\n@Component({\n  selector: 'app-mini-term',\n  templateUrl: './mini-term.page.html',\n  styleUrls: ['./mini-term.page.scss']\n})\n\nexport class MiniTermPage implements OnInit {\n  @ViewChild(IonContent, {static : false} ) ionContent: IonContent;\n  @ViewChild('terminal', {static: false}) terminal: ElementRef;\n\n\n  private host = '';\n  lastLine = '';\n  isEnabled: boolean; \n  private loader: any = null;\n  globalInstance: any;\n   \n\n  constructor(private http: HttpClient, public loadingController: LoadingController,\n     public navCtrl: NavController, private renderer: Renderer2) {\n\n      this.host = environment.defaultNode;\n      this.host = this.getHost();\n\n    // Disable up and down keys.\n          window.addEventListener(\"keydown\", function(e) {\n            if([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {\n                e.preventDefault();\n            }\n        }, false);\n\n    }\n\n  \n  ngOnInit(){}\n\n  ngAfterViewInit() {\n    \n    this.terminal.nativeElement.value += \"**********************************************\\n\";\n    this.terminal.nativeElement.value += \"*  __  __  ____  _  _  ____  __  __    __    *\\n\";\n    this.terminal.nativeElement.value += \"* (  \\/  )(_  _)( \\( )(_  _)(  \\/  )  /__\\       *\\n\";\n    this.terminal.nativeElement.value += \"*  )    (  _)(_  )  (  _)(_  )    (  /(__)\\   *\\n\";\n    this.terminal.nativeElement.value += \"* (_/\\/\\_)(____)(_)\\_)(____)(_/\\/\\_)(__)(__)      *\\n\";\n    this.terminal.nativeElement.value += \"*                                            *\\n\";\n    this.terminal.nativeElement.value += \"**********************************************\\n\";\n    this.terminal.nativeElement.value += \"Welcome to Minima. For assistance type help. Then press enter.\\n\";\n\n    this.globalInstance = this.renderer.listen(this.terminal.nativeElement, 'keydown', (e) => {\n\n        if([13].indexOf(e.keyCode) > -1) {\n          // get the whole textarea text..\n          var msg = this.terminal.nativeElement.value;\n\n          // get the last line...\n          this.lastLine = msg.substr(msg.lastIndexOf(\"\\n\")+1);\n\n          // get the json call\n          this.request(this.lastLine);\n        }\n    });\n\n }\n\n\n  scrollToBottomOnInit() {\n    console.log(\"scrolling\");\n    setTimeout(() => {\n      this.ionContent.scrollToBottom(300);\n    }, 200);\n    console.log(\"scrolled.\") \n  }\n\n\n  //Minima Api Service\n  getHost() {\n    if (localStorage.getItem('minima_host') == null) {\n      localStorage.setItem('minima_host', this.host);\n      return this.host;\n    } else {\n      return localStorage.getItem('minima_host');\n    }\n  }\n\n  //api calls\n  request(route) {\n    const self = this;\n    console.log(route);\n    return new Promise((resolve, reject) => {\n      self.http.get(self.host + route, { responseType: 'json' }).subscribe(( d: any ) => {\n\n        this.terminal.nativeElement.value += JSON.stringify(d, undefined, 2) + \"\\n\";\n\n        this.terminal.nativeElement.scrollTop = this.terminal.nativeElement.scrollHeight;\n        resolve(d);\n      }, (err) => {\n        self.hideLoader();\n        console.log('Error ' + err );\n        reject(err);\n      });\n    });\n  }\n\n  async showLoader() {\n    if (this.loader == null) {\n      this.loader = await this.loadingController.create({\n        message: 'Loading'\n      });\n      this.loader.present();\n    }\n  }\n  \n  async hideLoader() {\n    if (this.loader !== null) {\n      await this.loader.dismiss();\n      this.loader = null;\n    } else {}\n}\n\n\n}\n\n\n"],"sourceRoot":""}