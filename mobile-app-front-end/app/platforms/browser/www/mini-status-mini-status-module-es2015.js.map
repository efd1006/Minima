{"version":3,"sources":["./src/app/mini-status/mini-status.page.html","./src/app/mini-status/mini-status.module.ts","./src/app/mini-status/mini-status.page.scss","./src/app/mini-status/mini-status.page.ts"],"names":[],"mappings":"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","file":"mini-status-mini-status-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"primary\\\">\\n      Status\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n\\n<ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n            <ion-refresher-content></ion-refresher-content>\\n</ion-refresher>\\n\\n\\n  <ion-card class=\\\"welcome-card\\\" style=\\\"background-color:transparent\\\" color=\\\"white\\\">\\n    <ion-card-header id=\\\"status-header\\\" color=\\\"white\\\">\\n      <ion-card-title>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon slot=\\\"start\\\" src=\\\"../../assets/icon/minima.svg\\\" size=\\\"2\\\"></ion-icon>\\n          <ion-card-title class=\\\"ion-text-centre\\\" color=\\\"tertiary\\\">\\n            <ion-label>\\n              Minima \\n            <ion-badge color=\\\"secondary\\\"> v{{ versionNumber }}</ion-badge>\\n            </ion-label>\\n          </ion-card-title>\\n        </ion-item>\\n      </ion-card-title>\\n    </ion-card-header>\\n\\n    <ion-card-content id=\\\"status-content\\\">\\n        <ion-list>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Status</h2>\\n            <p color=\\\"getColor()\\\">{{ status }}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Node uptime</h2>\\n            <p>{{ stringUptime }}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Configuration path</h2>\\n            <p>{{ conf }}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Hosting IP</h2>\\n            <p>{{ miniHost }}{{ miniPort}}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>RPC Port</h2>\\n            <p>{{ miniRpcport }}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Pulse</h2>\\n            <p>{{ pulse }}</p>\\n            </ion-label>\\n          </ion-item>\\n          <ion-item lines=\\\"none\\\">\\n            <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"start\\\"></ion-icon>\\n            <ion-label>\\n            <h2>Last block number</h2>\\n            <p>{{ block }}</p>\\n            </ion-label>\\n          </ion-item>\\n        </ion-list>\\n  \\n        \\n  \\n      </ion-card-content>\\n        \\n    </ion-card>\\n  \\n\\n\\n\\n</ion-content>\\n\\n<ion-footer>\\n     <ion-list lines=\\\"none\\\">\\n       <ion-item>\\n       <ion-icon slot=\\\"start\\\" name=\\\"notifications\\\"></ion-icon>\\n       \\n       <p>Call \\\"status\\\" in \\n         <a style=\\\"font-style: normal;\\\" routerLink=\\\"/mini-term\\\">terminal</a> for more details of the node's status.</p> \\n      </ion-item>\\n     </ion-list>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MiniStatusPage } from './mini-status.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MiniStatusPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [MiniStatusPage]\n})\nexport class MiniStatusPageModule {}\n","module.exports = \"#status-content {\\n  width: 100%;\\n  padding: 5px;\\n  border-radius: 20%;\\n  font-size: 0.5em;\\n}\\n\\n#status-content ion-icon {\\n  padding-left: 1em;\\n  color: #FF671D;\\n}\\n\\n#status-content ion-list ion-grid ion-col ion-item {\\n  font-size: 1.5em;\\n}\\n\\n.ion-text-wrap {\\n  word-wrap: normal;\\n}\\n\\nion-card {\\n  border-radius: 30px;\\n  background-color: #FFFFFF;\\n}\\n\\nion-card-content ion-list ion-item h2 {\\n  color: #06AAC7;\\n}\\n\\nion-card-content ion-list ion-item p {\\n  white-space: normal;\\n}\\n\\nion-card-content ion-list ion-icon {\\n  padding-right: 4px;\\n}\\n\\nion-icon {\\n  color: #06AAC7;\\n}\\n\\nion-chip {\\n  background-color: transparent;\\n}\\n\\nion-footer ion-list ion-item {\\n  border-top: 2px solid #ffffcc;\\n  border-bottom: 2px solid #ffffcc;\\n  border-radius: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGlhcy9Qcm9qZWN0cy9taW5pbWFjb3JlL21vYmlsZS1hcHAtZnJvbnQtZW5kL2FwcC9zcmMvYXBwL21pbmktc3RhdHVzL21pbmktc3RhdHVzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbWluaS1zdGF0dXMvbWluaS1zdGF0dXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDREo7O0FESUE7RUFDSSxpQkFBQTtFQUNBLGNBQUE7QUNESjs7QURJQTtFQUNJLGdCQUFBO0FDREo7O0FESUE7RUFDSSxpQkFBQTtBQ0RKOztBRElBO0VBQ0ksbUJBQUE7RUFDQSx5QkFBQTtBQ0RKOztBRElBO0VBQ0ksY0FBQTtBQ0RKOztBRElBO0VBQ0ksbUJBQUE7QUNESjs7QURJQTtFQUNJLGtCQUFBO0FDREo7O0FES0E7RUFDSSxjQUFBO0FDRko7O0FES0E7RUFDSSw2QkFBQTtBQ0ZKOztBREtBO0VBQ0ksNkJBQUE7RUFDQSxnQ0FBQTtFQUNBLGtCQUFBO0FDRkoiLCJmaWxlIjoic3JjL2FwcC9taW5pLXN0YXR1cy9taW5pLXN0YXR1cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuI3N0YXR1cy1jb250ZW50IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogMjAlO1xuICAgIGZvbnQtc2l6ZTogMC41ZW07XG59XG5cbiNzdGF0dXMtY29udGVudCBpb24taWNvbiB7XG4gICAgcGFkZGluZy1sZWZ0OiAxZW07XG4gICAgY29sb3I6ICNGRjY3MUQ7XG59XG5cbiNzdGF0dXMtY29udGVudCBpb24tbGlzdCBpb24tZ3JpZCBpb24tY29sIGlvbi1pdGVtIHtcbiAgICBmb250LXNpemU6IDEuNWVtO1xufVxuXG4uaW9uLXRleHQtd3JhcCB7XG4gICAgd29yZC13cmFwOiBub3JtYWw7XG59XG5cbmlvbi1jYXJkIHtcbiAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG59XG5cbmlvbi1jYXJkLWNvbnRlbnQgaW9uLWxpc3QgaW9uLWl0ZW0gaDIge1xuICAgIGNvbG9yOiAjMDZBQUM3O1xufVxuXG5pb24tY2FyZC1jb250ZW50IGlvbi1saXN0IGlvbi1pdGVtIHAge1xuICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG59XG5cbmlvbi1jYXJkLWNvbnRlbnQgaW9uLWxpc3QgaW9uLWljb24ge1xuICAgIHBhZGRpbmctcmlnaHQ6IDRweDtcbn1cblxuXG5pb24taWNvbiB7XG4gICAgY29sb3I6ICMwNkFBQzc7XG59XG5cbmlvbi1jaGlwIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn1cblxuaW9uLWZvb3RlciBpb24tbGlzdCBpb24taXRlbSB7XG4gICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICNmZmZmY2M7XG4gICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkI2ZmZmZjYztcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG59IiwiI3N0YXR1cy1jb250ZW50IHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogMjAlO1xuICBmb250LXNpemU6IDAuNWVtO1xufVxuXG4jc3RhdHVzLWNvbnRlbnQgaW9uLWljb24ge1xuICBwYWRkaW5nLWxlZnQ6IDFlbTtcbiAgY29sb3I6ICNGRjY3MUQ7XG59XG5cbiNzdGF0dXMtY29udGVudCBpb24tbGlzdCBpb24tZ3JpZCBpb24tY29sIGlvbi1pdGVtIHtcbiAgZm9udC1zaXplOiAxLjVlbTtcbn1cblxuLmlvbi10ZXh0LXdyYXAge1xuICB3b3JkLXdyYXA6IG5vcm1hbDtcbn1cblxuaW9uLWNhcmQge1xuICBib3JkZXItcmFkaXVzOiAzMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xufVxuXG5pb24tY2FyZC1jb250ZW50IGlvbi1saXN0IGlvbi1pdGVtIGgyIHtcbiAgY29sb3I6ICMwNkFBQzc7XG59XG5cbmlvbi1jYXJkLWNvbnRlbnQgaW9uLWxpc3QgaW9uLWl0ZW0gcCB7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XG59XG5cbmlvbi1jYXJkLWNvbnRlbnQgaW9uLWxpc3QgaW9uLWljb24ge1xuICBwYWRkaW5nLXJpZ2h0OiA0cHg7XG59XG5cbmlvbi1pY29uIHtcbiAgY29sb3I6ICMwNkFBQzc7XG59XG5cbmlvbi1jaGlwIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbmlvbi1mb290ZXIgaW9uLWxpc3QgaW9uLWl0ZW0ge1xuICBib3JkZXItdG9wOiAycHggc29saWQgI2ZmZmZjYztcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNmZmZmY2M7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport * as HighCharts from 'highcharts';\nimport { MinimaApiService } from '../service/minima-api.service';\nimport { Url } from 'url';\n\n@Component({\n  selector: 'app-mini-status',\n  templateUrl: './mini-status.page.html',\n  styleUrls: ['./mini-status.page.scss'],\n})\n\nexport class MiniStatusPage implements OnInit {\n\n  // @ViewChild('statusColor', {static : false}) statusRef : ElementRef;\n\n  data: any;\n  blocksGenerated : number;\n  versionNumber : number;\n  timeElapsed: number;\n  upTime : string;\n  stringUptime : string;\n  status: string;\n  conf: string;\n  miniHost: string;\n  miniPort: number;\n  miniRpcport: number;\n  pulse: string;\n  block: number;\n  private host = '';\n  private loader: any = null;\n\n  constructor(private api: MinimaApiService) { }\n\n  ngOnInit() { }\n\n  ionViewWillEnter() {\n    this.updateStatus();\n  }\n\n  ionViewDidEnter() {\n    // this.plotSimpleBarChart();\n  }\n\n  doRefresh(event) {\n    console.log('Refreshing page..');\n    this.api.getStatus().then((res: any) => {\n      console.log(res);\n      this.updateStatus();\n    });\n    setTimeout(() => {\n      console.log('Async operation has ended');\n      event.target.complete();\n    }, 200);\n  }\n\n  updateStatus() {\n    this.api.getStatus().then((res : any) => {\n\n      console.log(res.response.tip.Block);\n      // Check node's status..\n      if(res.status === true){\n        this.status = \"Online\";\n        \n      } else {\n        this.status = \"Offline\";\n      }\n      // fetch json vars..\n      this.versionNumber = res.response.version;\n      this.blocksGenerated = res.response.tip.Block;\n      this.upTime = res.response.milliuptime;\n      this.stringUptime = res.response.stringuptime;\n      this.conf = res.response.conf;\n      this.miniHost = res.response.host + \":\";\n      this.miniPort = res.response.port;\n      this.miniRpcport = res.response.rpcport;\n      this.pulse = res.response.pulse;\n      this.block = res.response.tip.block;\n      \n    \n    });\n  }\n\n  getColor() {\n    if(this.status == \"Online\") {\n      return 'green';\n    } else {\n      return 'red';\n    }\n  }\n  \n\n  \n}\n"],"sourceRoot":""}